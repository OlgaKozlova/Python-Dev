# День 28 — Пользовательские исключения

## Что такое пользовательское исключение

В Python исключение — это объект. Пользовательское исключение создаётся объявлением собственного класса, унаследованного от `Exception` или его подкласса.

```python
class ValidationError(Exception):
    pass
```

Такой класс уже можно выбрасывать с помощью `raise`:

```python
raise ValidationError("Некорректные данные")
```

## Почему не BaseException

Нельзя наследоваться напрямую от `BaseException`. Этот уровень зарезервирован для системных сигналов (`KeyboardInterrupt`, `SystemExit`).

Правило:

- прикладные ошибки → `Exception`
- почти всегда → `Exception` напрямую

## Зачем нужны свои исключения

1. **Смысл**. `ValidationError` читается лучше, чем `ValueError`.
2. **Изоляция**. Можно ловить только свои ошибки:

```python
except ValidationError:
    ...
```

3. **Доменные ошибки**. Отделяют бизнес-логику от технических сбоев.

## Исключения с состоянием

Исключение может хранить данные:

```python
class ValidationError(Exception):
    def __init__(self, field, message):
        self.field = field
        super().__init__(message)
```

Теперь ошибка — полноценный объект, а не просто строка.

## Стиль и соглашения

- имена с суффиксом `Error`
- одно исключение — одна причина
- не плодить классы без необходимости

## Чего делать нельзя

- использовать исключения вместо `if`
- управлять нормальным потоком выполнения через `try/except`
- ловить `Exception`, если можно ловить конкретный тип

Исключение — это сигнал, что корректное продолжение невозможно.
