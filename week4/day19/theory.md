# День 19 — \*args и \*\*kwargs

## Назначение

`*args` и `**kwargs` — это механизм связывания аргументов при вызове функции.
Он позволяет функции принимать переменное количество позиционных и именованных аргументов без нарушения модели вызова.

---

## \*args — позиционные аргументы

```python
def f(*args):
    return args
```

- `args` — всегда `tuple`
- порядок аргументов сохраняется
- имя `args` условно, важен символ `*`

```python
f(1, 2, 3)  # (1, 2, 3)
```

---

## \*\*kwargs — именованные аргументы

```python
def g(**kwargs):
    return kwargs
```

- `kwargs` — всегда `dict`
- ключи — строки
- порядок соответствует порядку передачи (Python 3.7+)

```python
g(a=1, b=2)  # {'a': 1, 'b': 2}
```

---

## Комбинирование аргументов

Строгий порядок в сигнатуре функции:

1. обычные позиционные параметры
2. `*args`
3. именованные параметры с дефолтами
4. `**kwargs`

```python
def f(a, b, *args, c=10, **kwargs):
    pass
```

---

## Распаковка аргументов при вызове

```python
data = (1, 2, 3)
f(*data)

params = {'a': 1, 'b': 2}
g(**params)
```

- `*` распаковывает последовательности
- `**` распаковывает mapping

---

## Практический пример

```python
def log(*args, **kwargs):
    print('|'.join([str(x) for x in args]))
    for key in sorted(kwargs):
        print(f"{key}={kwargs[key]}")
```

---

## Типичные ошибки

- неявное допущение, что `args` содержит строки
- избыточное использование `**kwargs`
- попытка заменить `*args/**kwargs` плохим дизайном API

---

## Сравнение с JavaScript

| JavaScript  | Python     |
| ----------- | ---------- |
| `...args`   | `*args`    |
| object rest | `**kwargs` |
| eager map   | lazy map   |

---

## Ключевая мысль

`*args/**kwargs` — это не «гибкость», а строгий механизм связывания аргументов.
Использовать его нужно осознанно.
