# День 16 — Практика по функциям

## Задача 1

Разбери код **без запуска**.

```python
def make():
    x = 10

    def inc():
        return x + 1

    return inc


f = make()
result1 = f()
result2 = make()()
```

### Вопросы

1. Что возвращает `make()`?
2. Сколько фреймов стека создаётся:
   - при `make()`
   - при `f()`
   - при `make()()`

3. Чему равны `result1` и `result2`?
4. Где хранится `x` в момент вызова `f()`?
5. Когда уничтожается `x`?

---

## Решение и пояснение

1. `make()` возвращает **объект функции `inc`** с замыканием.

2. Фреймы стека:
   - `make()` → 1 фрейм (`make`)
   - `f()` → 1 фрейм (`inc`)
   - `make()()` → 2 фрейма последовательно (`make`, затем `inc`)

3. Значения:
   - `result1 == 11`
   - `result2 == 11`

4. `x` хранится в **closure (cell object)**, а не:
   - не в стеке
   - не в объекте функции напрямую

5. `x` уничтожается, когда:
   - на функцию `inc` больше нет ссылок
   - сборщик мусора освобождает объект замыкания

---

## Что проверяет задача

- различие между объявлением и вызовом функции
- модель стека Python
- понимание замыканий на базовом уровне
- где реально живут переменные
