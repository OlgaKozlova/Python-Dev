# День 18 — Аргументы по умолчанию и именованные аргументы

## Значения аргументов по умолчанию

В Python значения аргументов по умолчанию вычисляются **один раз — в момент определения функции** (`def`), а не при каждом вызове.

```python
def f(a, data=[]):
    data.append(a)
    return data
```

- Объект `data` создаётся при выполнении `def`
- Этот же объект используется во всех вызовах, где аргумент `data` не передан явно
- Функция хранит ссылку на этот объект внутри себя

### Ключевое следствие

Если значение по умолчанию — **изменяемый объект** (`list`, `dict`, `set`), то он будет **накапливать состояние между вызовами**.

Это не баг, а прямое следствие модели объектов Python.

### Правильный защитный паттерн

```python
def f(a, data=None):
    if data is None:
        data = []
    data.append(a)
    return data
```

`None` используется как безопасный маркер «значение не передано».

---

## Именованные (keyword) аргументы

Python поддерживает вызов функций с указанием имени параметра:

```python
def create_user(name, age, active=True):
    ...

create_user("Alice", 30)
create_user(name="Alice", age=30)
create_user("Alice", age=30)
create_user(age=30, name="Alice")
```

### Правила

1. Позиционные аргументы — **сначала**
2. Именованные — **после**
3. Один параметр нельзя передать дважды

Неверно:

```python
create_user("Alice", name="Alice")
```

---

## Архитектурное значение

- keyword-аргументы делают вызовы читаемыми
- позволяют расширять API функций без ломающих изменений
- формируют строгий контракт (в отличие от JS-объектов)

Функция в Python — это объект с состоянием. Значения по умолчанию являются частью этого состояния.
