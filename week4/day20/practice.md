# День 20 — Практика

## Задача 1 — сортировка

Дан список:

```python
items = [
    {"name": "a", "value": 10},
    {"name": "b", "value": 0},
    {"name": "c", "value": 5},
]
```

Отсортировать элементы по `value`, считая `0` и отсутствующее значение как `-1`.

1. Реши с помощью `lambda`
2. Реши с помощью `def`
3. Сравни читаемость

---

## Задача 2 — lambda в цикле (ловушка)

Объясни, почему этот код работает неправильно:

```python
handlers = []

for level in ["info", "warn", "error"]:
    handlers.append(lambda msg: f"[{level}] {msg}")
```

Затем предложи **один корректный вариант исправления**.

---

## Задача 3 — распознавание границы

Для каждого примера ответь: **можно ли писать как `lambda` без ухудшения кода**.

1.

```python
lambda x: x * 4
```

2.

```python
lambda x: (x * 2) if x > 0 else 0
```

3.

```python
lambda x: (y := x * 2) + y
```

Объясни словами, без переписывания кода.

---

## Решения и пояснения

### Задача 1 (пример)

```python
items.sort(key=lambda x: x.get("value", 0) or -1)
```

Альтернатива:

```python
def sort_key(item):
    return item.get("value") or -1

items.sort(key=sort_key)
```

`def`-версия читается и расширяется лучше.

---

### Задача 2

Все функции захватывают **одно и то же имя `level`**, которое после цикла равно `"error"`.

Исправление:

```python
handlers.append(lambda msg, level=level: f"[{level}] {msg}")
```

---

### Задача 3

1. Да — простое выражение
2. На границе, допустимо
3. Нет — антипаттерн, скрытая переменная
