# День 23 — Пакеты и **init**.py

## Что такое пакет

**Пакет** — это папка, которую Python может импортировать.
Формально: каталог + `__init__.py` ⇒ участвует в `import`.

Пакет — это **не публикация**, не библиотека и не PyPI. Это чисто механизм языка.

---

## Папка vs пакет

### Просто папка

- Структура файловой системы
- Python её игнорирует при импортах
- Используется для данных, шаблонов, ресурсов

### Пакет

- Папка с `__init__.py`
- Python может сделать `import pkg.subpkg.module`
- Имеет собственное пространство имён

Ключевая разница: **пакет существует для интерпретатора**.

---

## Зачем придумали `__init__.py`

Причина техническая:

- файловая система не различает код и данные
- Python нужен **явный маркер**: «эту папку считать кодом»

`__init__.py` решает это:

- никакой магии
- никакого угадывания
- полный контроль архитектуры

---

## Роль `__init__.py`

1. **Маркер пакета** — без него папка не пакет
2. **Точка входа** — код выполняется при `import pkg`
3. **Формирование API** — re-export функций и классов
4. **Архитектурный фасад** — аккуратно, без логики

Антипаттерн: тяжёлые вычисления, I/O, сайд-эффекты в `__init__.py`.

---

## Как работает import (суть)

- Python не сканирует проект заранее
- `import a.b.c` обрабатывается пошагово:
  1. поиск `a` в `sys.path`
  2. проверка `a.py` или `a/__init__.py`
  3. затем поиск `b` **внутри `a`**
  4. затем `c` **внутри `a.b`**

Поиск ленивый и точечный.

---

## Аналогия с JS

- Python-пакет ≈ папка с кодом
- `__init__.py` ≈ `index.js`
- npm-package ≠ Python-пакет (это дистрибутив)

---

## Итог

- Пакет = импортируемая папка
- `__init__.py` = явное намерение разработчика
- Импорт работает локально и пошагово
